<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Arbuz Warehouse Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- üé® –§–ò–†–ú–ï–ù–ù–´–ô –°–¢–ò–õ–¨ --- */
        :root {
            --primary-green: #00A046; 
            --accent-red: #E21E2C; 
            --text-main: #1D1D1D;
            --text-secondary: #707070;
            --bg-body: #FFFFFF;
            --bg-card: #F4F6F8;
            --border-radius: 16px;
        }

        body {
            margin: 0; padding: 0; background-color: var(--bg-body);
            font-family: 'Inter', sans-serif; color: var(--text-main);
            -webkit-font-smoothing: antialiased; user-select: none;
        }

        /* --- –≠–ö–†–ê–ù–´ --- */
        .screen {
            display: none; min-height: 100vh; padding: 24px 20px; box-sizing: border-box;
            flex-direction: column; align-items: center; padding-top: 40px;
        }
        .screen.active { display: flex; animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- –û–ë–©–ò–ï –≠–õ–ï–ú–ï–ù–¢–´ --- */
        .header-logo { font-size: 32px; font-weight: 900; color: var(--primary-green); margin-bottom: 10px; display: flex; align-items: center; justify-content: center; }
        .header-logo span { color: var(--accent-red); margin-right: 8px; }
        h1 { font-size: 26px; font-weight: 800; text-align: center; margin: 0 0 12px 0; line-height: 1.2; }
        p.text { font-size: 16px; line-height: 1.5; color: var(--text-secondary); text-align: center; margin-bottom: 32px; max-width: 340px; }
        
        .btn-primary {
            background: var(--primary-green); color: #fff; border: none; width: 100%; padding: 18px;
            font-size: 18px; border-radius: var(--border-radius); font-weight: 700; cursor: pointer;
            margin-top: auto; box-shadow: 0 4px 15px rgba(0, 160, 70, 0.3); margin-bottom: 20px;
        }
        .btn-primary:active { transform: scale(0.98); background: #008f3e; }

        /* --- –°–¢–ò–õ–ò –¢–ï–û–†–ò–ò --- */
        .zone-card { display: flex; align-items: center; background: var(--bg-card); padding: 16px; border-radius: var(--border-radius); margin-bottom: 12px; width: 100%; }
        .zone-icon { font-size: 30px; margin-right: 16px; width: 40px; text-align: center; }
        .zone-info b { display: block; margin-bottom: 4px; font-size: 17px; }
        .zone-info span { font-size: 14px; color: var(--text-secondary); }
        .address-box { background: #E8F5E9; border: 2px solid var(--primary-green); padding: 16px 10px; border-radius: 16px; margin-bottom: 24px; text-align: center; width: 100%; }
        .address-code { font-family: monospace; font-size: 26px; font-weight: 700; color: var(--text-main); letter-spacing: 1px; }
        .metaphor-list { width: 100%; display: flex; flex-direction: column; gap: 12px; }
        .metaphor-item { display: flex; align-items: center; background: var(--bg-card); padding: 12px 16px; border-radius: 12px; font-size: 15px; }
        .metaphor-badge { color: #fff; padding: 4px 8px; border-radius: 6px; font-weight: 700; font-family: monospace; min-width: 35px; text-align: center; margin-right: 12px; }
        .badge-1 { background: #FF5722; } .badge-2 { background: #2196F3; } .badge-3 { background: #9C27B0; } .badge-4 { background: #E91E63; } .badge-5 { background: var(--primary-green); }
        .metaphor-emoji { margin-left: auto; font-size: 20px; }

        /* --- üí° –°–¢–ò–õ–ò –ü–û–î–°–ö–ê–ó–ö–ò (MODAL) --- */
        .hint-btn {
            background: #E3F2FD; color: #1976D2; border: none; padding: 12px 20px;
            border-radius: 12px; font-weight: 600; font-size: 15px; cursor: pointer;
            margin-bottom: 20px; display: inline-flex; align-items: center; gap: 8px;
        }
        
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 100; display: none;
            align-items: center; justify-content: center; padding: 20px; box-sizing: border-box;
        }
        .modal-overlay.active { display: flex; animation: fadeIn 0.2s; }
        
        .modal-content {
            background: white; width: 100%; max-width: 320px; padding: 24px;
            border-radius: 20px; text-align: left; position: relative;
        }
        .modal-close { position: absolute; top: 15px; right: 15px; font-size: 24px; cursor: pointer; color: #999; }

        /* --- üìü –°–¢–ò–õ–ò –¢–°–î (–¢–ï–†–ú–ò–ù–ê–õ) --- */
        #screen-scanner {
            background: #111; padding: 0; justify-content: center; position: relative;
            font-family: 'Roboto Mono', monospace; /* –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —à—Ä–∏—Ñ—Ç */
        }
        
        /* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ –∫–∞–º–µ—Ä—ã */
        .tsd-interface {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0;
            display: flex; flex-direction: column; justify-content: space-between;
            padding: 20px; box-sizing: border-box; z-index: 10;
            pointer-events: none; /* –ß—Ç–æ–±—ã –∫–ª–∏–∫–∏ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Å–∫–≤–æ–∑—å —Ç–µ–∫—Å—Ç */
        }

        .tsd-top-bar {
            display: flex; justify-content: space-between; color: #00ff00; font-size: 14px;
            text-shadow: 0 0 5px rgba(0,255,0,0.5);
        }

        .tsd-center-crosshair {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 280px; height: 180px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
        }
        /* –£–≥–æ–ª–∫–∏ –ø—Ä–∏—Ü–µ–ª–∞ */
        .tsd-center-crosshair::before, .tsd-center-crosshair::after {
            content: ''; position: absolute; width: 20px; height: 20px;
            border-color: #E21E2C; border-style: solid;
        }
        .tsd-center-crosshair::before { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tsd-center-crosshair::after { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }

        .tsd-laser-line {
            width: 90%; height: 2px; background: #E21E2C;
            box-shadow: 0 0 8px #E21E2C;
            animation: pulseLaser 1s infinite;
        }
        @keyframes pulseLaser { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

        .tsd-status {
            color: #fff; background: rgba(0,0,0,0.5); padding: 5px 10px;
            border-radius: 4px; font-size: 12px; position: absolute; bottom: -30px;
        }

        /* –ö–Ω–æ–ø–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¢–°–î */
        .btn-tsd-scan {
            position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
            width: 200px; height: 60px;
            background: #333; color: white;
            border: 2px solid #555; border-radius: 8px;
            font-family: 'Roboto Mono', monospace; font-size: 18px; font-weight: 700;
            cursor: pointer; z-index: 20;
            box-shadow: 0 4px 0 #111;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn-tsd-scan:active { transform: translateX(-50%) translateY(4px); box-shadow: none; background: #222; }

    </style>
</head>
<body>

    <div id="screen-1" class="screen active">
        <div class="header-logo"><span>üçâ</span>arbuz.kz</div>
        <h1>–ü—Ä–∏–≤–µ—Ç, —Å—Ç–∞–∂—ë—Ä!</h1>
        <p class="text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å. –î–∞–≤–∞–π –Ω–∞—É—á–∏–º—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¢–°–î –∏ –∞–¥—Ä–µ—Å–∞–º–∏ —Å–∫–ª–∞–¥–∞.</p>
        <button class="btn-primary" onclick="goToScreen(2)">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
    </div>

    <div id="screen-2" class="screen">
        <h1>–ó–æ–Ω—ã —Å–∫–ª–∞–¥–∞</h1>
        <div class="zone-card"><div class="zone-icon">üçù</div><div class="zone-info"><b>B ‚Äî –ë–∞–∫–∞–ª–µ—è</b><span>–û–±—ã—á–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞.</span></div></div>
        <div class="zone-card"><div class="zone-icon">‚ùÑÔ∏è</div><div class="zone-info"><b>F ‚Äî –§—Ä–µ—à</b><span>–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ (+2¬∞C).</span></div></div>
        <div class="zone-card"><div class="zone-icon">üç¶</div><div class="zone-info"><b>G ‚Äî –ì–ú–ó</b><span>–ì–∞—Å—Ç—Ä–æ–Ω–æ–º –∏ –º–æ–ª–æ—á–∫–∞.</span></div></div>
        <button class="btn-primary" onclick="goToScreen(3)">–ü–æ–Ω—è—Ç–Ω–æ</button>
    </div>

    <div id="screen-3" class="screen">
        <h1>–ê–¥—Ä–µ—Å —è—á–µ–π–∫–∏</h1>
        <div class="address-box">
            <div class="address-code">
                <span style="color:#FF5722">B1</span>-<span style="color:#2196F3">01</span>-<span style="color:#9C27B0">01</span>-<span style="color:#E91E63">A</span>-<span style="color:var(--primary-green)">01</span>
            </div>
        </div>
        <div class="metaphor-list">
            <div class="metaphor-item"><div class="metaphor-badge badge-1">B1</div><div><b>–ì–æ—Ä–æ–¥</b><br><small>–°–µ–∫—Ü–∏—è —Å–∫–ª–∞–¥–∞</small></div><div class="metaphor-emoji">üèôÔ∏è</div></div>
            <div class="metaphor-item"><div class="metaphor-badge badge-2">01</div><div><b>–£–ª–∏—Ü–∞</b><br><small>–†—è–¥</small></div><div class="metaphor-emoji">üõ£Ô∏è</div></div>
            <div class="metaphor-item"><div class="metaphor-badge badge-3">01</div><div><b>–î–æ–º</b><br><small>–°—Ç–µ–ª–ª–∞–∂</small></div><div class="metaphor-emoji">üè¢</div></div>
            <div class="metaphor-item"><div class="metaphor-badge badge-5">01</div><div><b>–ö–≤–∞—Ä—Ç–∏—Ä–∞</b><br><small>–ü–æ–∑–∏—Ü–∏—è</small></div><div class="metaphor-emoji">üö™</div></div>
        </div>
        <button class="btn-primary" onclick="goToScreen(4)">–ó–∞–ø–æ–º–Ω–∏–ª!</button>
    </div>

    <div id="screen-4" class="screen">
        <div style="font-size: 60px; margin-top: 40px; margin-bottom: 20px;">üìü</div>
        <h1>–í–æ–∑—å–º–∏ –¢–°–î</h1>
        <p class="text">–°–µ–π—á–∞—Å –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–∫–∞–Ω–µ—Ä–æ–º. <br>–ù–∞–π–¥–∏ —è—á–µ–π–∫—É –ø–æ –∑–∞–¥–∞–Ω–∏—é –∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.</p>
        <button class="btn-primary" onclick="startGameFlow()">–ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
    </div>


    <div id="screen-task" class="screen">
        <div class="header-logo"><span>üçâ</span>arbuz.kz</div>
        <h1>–ó–∞–¥–∞–Ω–∏–µ #1</h1>
        <p class="text">–ù–∞–π–¥–∏ –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π —è—á–µ–π–∫—É:</p>

        <div style="background: #FFF3E0; border: 2px dashed #FF9800; padding: 20px; border-radius: 20px; text-align: center; width: 100%; margin-bottom: 20px;">
            <div style="font-size: 12px; text-transform: uppercase; color: #E65100; margin-bottom: 5px;">–¶–µ–ª—å –ø–æ–∏—Å–∫–∞</div>
            <div style="font-family: monospace; font-size: 32px; font-weight: 800; color: #222;">B1-02-05-A-01</div>
        </div>
        
        <button class="hint-btn" onclick="openHint()">
            üí° –ù—É–∂–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞?
        </button>

        <button class="btn-primary" onclick="startTimerAndScan()">üöÄ –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫</button>
    </div>

    <div id="hint-modal" class="modal-overlay" onclick="closeHint()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-close" onclick="closeHint()">&times;</div>
            <h3 style="margin-top:0;">–ö–∞–∫ –Ω–∞–π—Ç–∏ B1?</h3>
            <p style="line-height: 1.6; color: #444;">
                <b>B</b> ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª <b>–ë–∞–∫–∞–ª–µ—è</b> (Dry).<br><br>
                <b>B1</b> ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ë–∞–∫–∞–ª–µ—è –Ω–∞ <b>1-–º —ç—Ç–∞–∂–µ</b>.<br><br>
                üëÄ –ò—â–∏ –ø–æ–¥ –ø–æ—Ç–æ–ª–∫–æ–º –±–æ–ª—å—à–∏–µ –≤—ã–≤–µ—Å–∫–∏ —Å –±—É–∫–≤–æ–π <b>B</b>.
            </p>
            <button class="btn-primary" style="margin-bottom:0; padding: 12px;" onclick="closeHint()">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>


    <div id="screen-scanner" class="screen">
        <div style="position: absolute; top:0; left:0; width:100%; height:100%; background: radial-gradient(circle, #333 0%, #000 90%);"></div>

        <div class="tsd-interface">
            <div class="tsd-top-bar">
                <span>ARBUZ_WMS_V2.0</span>
                <span>BAT: 98% üîã</span>
            </div>

            <div class="tsd-center-crosshair">
                <div class="tsd-laser-line"></div>
                <div class="tsd-status">WAITING FOR BARCODE...</div>
            </div>

            <div></div>
        </div>

        <button class="btn-tsd-scan" onclick="simulateScanSuccess()">
            <span style="color: #E21E2C;">‚óâ</span> SCAN
        </button>
        
        <div style="position: absolute; top: 20px; right: 20px; color: #777; font-weight: 600; cursor: pointer; z-index: 30;" onclick="goToScreen('task')">–û–¢–ú–ï–ù–ê</div>
    </div>


    <div id="screen-result" class="screen">
        <div style="font-size: 80px; margin-top: 20px; margin-bottom: 10px;">‚úÖ</div>
        <h1 style="color: var(--primary-green);">–£—Å–ø–µ—Ö!</h1>
        <p class="text">–Ø—á–µ–π–∫–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞.</p>

        <div style="display: flex; gap: 20px; width: 100%; margin-bottom: 20px;">
            <div style="background:var(--bg-card); padding:15px; border-radius:12px; flex:1; text-align:center;">
                <span style="font-size:24px; font-weight:800; color:var(--primary-green);">1</span>
                <span style="font-size:12px; color:#777; display:block;">–ë–∞–ª–ª</span>
            </div>
            <div style="background:var(--bg-card); padding:15px; border-radius:12px; flex:1; text-align:center;">
                <span id="time-display" style="font-size:24px; font-weight:800; color:var(--primary-green);">0.0—Å</span>
                <span style="font-size:12px; color:#777; display:block;">–í—Ä–µ–º—è</span>
            </div>
        </div>

        <button class="btn-primary" onclick="alert('–û—Ç–ª–∏—á–Ω–æ! –¢—ã –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.')">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
        <button style="background:none; border:none; color:#777; padding:10px; width:100%;" onclick="startGameFlow()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
    </div>

    <script>
        // --- –õ–û–ì–ò–ö–ê ---
        let startTime;
        
        function goToScreen(idOrName) {
            window.scrollTo(0,0);
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            let targetId = typeof idOrName === 'number' || !isNaN(idOrName) ? 'screen-' + idOrName : idOrName;
            if (!targetId.startsWith('screen-')) targetId = 'screen-' + targetId;
            const el = document.getElementById(targetId);
            if(el) el.classList.add('active');
        }

        // –ü–æ–¥—Å–∫–∞–∑–∫–∞
        function openHint() { document.getElementById('hint-modal').classList.add('active'); }
        function closeHint() { document.getElementById('hint-modal').classList.remove('active'); }

        function startGameFlow() { goToScreen('task'); }

        function startTimerAndScan() {
            startTime = Date.now();
            goToScreen('scanner');
        }

        function simulateScanSuccess() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è
            const btn = document.querySelector('.btn-tsd-scan');
            btn.style.background = "#E21E2C"; // –ö—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
            btn.style.borderColor = "#fff";
            
            setTimeout(() => {
                const endTime = Date.now();
                const totalTime = ((endTime - startTime) / 1000).toFixed(1);
                
                document.getElementById('time-display').innerText = totalTime + '—Å';
                goToScreen('result');
                
                // –°–±—Ä–æ—Å —Å—Ç–∏–ª—è –∫–Ω–æ–ø–∫–∏
                btn.style.background = "#333";
                btn.style.borderColor = "#555";
            }, 400); // –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫ –¢–°–î
        }
    </script>
</body>
</html>
